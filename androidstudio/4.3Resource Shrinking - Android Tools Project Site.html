<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/276742; Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="898"/>

<div>
<span><div style="position:relative;"><div dir="ltr"><div><i><span style="line-height:21.3333px;font-size:13.3333px;">New: September 4th, 2015: Version 1.4.0 (beta1 and later) of the Gradle plugin now works around crashes that could result from resource shrinking on some specific handsets where modified versions of the framework appeared to be crawling through available resources in the app. For more details, see issue </span><span><a href="https://code.google.com/p/android/issues/detail?id=79325" style="color:rgb(0, 51, 204);text-decoration-color:rgb(0, 51, 204);">79325</a>.</span></i></div><div><div style="border-top-width:0px;border-bottom-width:0px;border-top-style:none;border-bottom-style:none;border-top-color:rgb(204, 204, 204);border-bottom-color:rgb(204, 204, 204);margin-block-start:;margin-block-end:;-moz-margin-start:;-moz-margin-end:;color:rgb(204, 204, 204);background-color:rgb(204, 204, 204);height:1px;"></div></div><div><span style="line-height:21.3333px;font-size:13.3333px;">The Gradle build system for Android supports &quot;resource shrinking&quot;: the automatic removal of resources that are unused, at build time, in the packaged app. In addition to removing resources in your project that are not actually needed at runtime, this also removes resources from libraries you are depending on if they are not actually needed by your application. For example, your application is using Google Play Services to for example access Google Drive functionality, and you are not currently using Google Sign In, then this would remove the various drawable assets for the Sign In buttons.</span></div><div>Note that resource shrinking only works in conjunction with code shrinking (such as ProGuard). That's how it can remove unused resources from libraries; normally, all resources in a library are used, and it is only when we remove unused code that it becomes apparent which resources are referenced from the remaining code.</div><div><div></div></div><div>To enable resource shrinking, update your build type as follows:</div><div><div><div></div></div><div></div></div><div style="background-color:rgb(239, 239, 239);border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(211, 211, 211);border-bottom-color:rgb(211, 211, 211);padding-top:6.66667px;padding-bottom:6.66667px;line-height:13.3333px;"><div><div><code style="color:rgb(0, 96, 0);">android {</code></div><div><code style="color:rgb(0, 96, 0);">    ...</code></div><div><div></div></div><div><code style="color:rgb(0, 96, 0);">    buildTypes {</code></div><div><span style="line-height:21.3333px;font-size:13.3333px;"><code style="color:rgb(0, 96, 0);">        release {</code></span></div><div><span style="line-height:21.3333px;font-size:13.3333px;"><code style="color:rgb(0, 96, 0);">            </code><b><code style="color:rgb(0, 96, 0);">minifyEnabled true</code></b></span></div><div style="font-size:13.3333px;line-height:21.3333px;"><code style="color:rgb(0, 96, 0);">            </code><b><code style="color:rgb(0, 96, 0);">shrinkResources true</code></b></div><div><code style="color:rgb(0, 96, 0);">            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'</code></div><div><code style="color:rgb(0, 96, 0);">        }</code></div><div><code style="color:rgb(0, 96, 0);">    }</code></div><div><span style="line-height:21.3333px;font-size:13.3333px;"><code style="color:rgb(0, 96, 0);">}</code></span></div></div><div></div></div><div></div><div>Again, you have to enable <code style="color:rgb(0, 96, 0);">minifyEnabled</code> in order to turn on code shrinking, and then <code style="color:rgb(0, 96, 0);">shrinkResources</code> to turn on resource shrinking.  If you have not already been using <code style="color:rgb(0, 96, 0);">minifyEnabled</code>, make sure you get that working before also adding <code style="color:rgb(0, 96, 0);">shrinkResources</code>, since you may have to edit your <code style="color:rgb(0, 96, 0);">proguard-rules.pro</code> file to make sure any methods you access with reflection etc are listed as keep rules in that file.</div><div><div></div></div><div>When you enable <code style="color:rgb(0, 96, 0);">shrinkResources</code>, building your app should display output like the following during the build:</div><div><div></div></div><div style="background-color:rgb(239, 239, 239);border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(211, 211, 211);border-bottom-color:rgb(211, 211, 211);padding-top:6.66667px;padding-bottom:6.66667px;line-height:13.3333px;"><div><div><code style="color:rgb(0, 96, 0);">...</code></div><div><code style="color:rgb(0, 96, 0);">:android:shrinkDebugResources</code></div><div><code style="color:rgb(0, 96, 0);"><b>Removed unused resources: Binary resource data reduced from 2570KB to 1711KB: Removed 33%</b></code></div><div><code style="color:rgb(0, 96, 0);">Note: If necessary, you can disable resource shrinking by adding</code></div><div><code style="color:rgb(0, 96, 0);">android {</code></div><div><code style="color:rgb(0, 96, 0);">    buildTypes {</code></div><div><code style="color:rgb(0, 96, 0);">        debug {</code></div><div><code style="color:rgb(0, 96, 0);">            shrinkResources false</code></div><div><code style="color:rgb(0, 96, 0);">        }</code></div><div><code style="color:rgb(0, 96, 0);">    }</code></div><div><code style="color:rgb(0, 96, 0);">}</code></div><div><code style="color:rgb(0, 96, 0);">:android:validateDebugSigning</code></div></div><div><code style="color:rgb(0, 96, 0);">...</code></div><div></div></div><div></div><div>If you want to see which resources are actually removed, you can supply the <code style="color:rgb(0, 96, 0);">--info</code> flag to the Gradle command, which will cause it to display a lot of extra information; if you look for the string &quot;Skipped unused resource&quot; you'll see output like the following:</div><div><div></div></div><div style="background-color:rgb(239, 239, 239);border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(211, 211, 211);border-bottom-color:rgb(211, 211, 211);padding-top:6.66667px;padding-bottom:6.66667px;line-height:13.3333px;"><div><div><code style="color:rgb(0, 96, 0);">$ <b>./gradlew clean assembleDebug --info | grep &quot;Skipped unused resource&quot;</b></code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/anim/abc_fade_in.xml: 396 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/anim/abc_fade_out.xml: 396 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/anim/abc_slide_in_bottom.xml: 400 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/anim/abc_slide_in_top.xml: 400 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/anim/abc_slide_out_bottom.xml: 400 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/anim/abc_slide_out_top.xml: 400 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/color/rating_bar_label.xml: 472 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/drawable-xhdpi-v4/big.png: 866901 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/drawable-xhdpi-v4/ic_action_add_schedule.png: 282 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/drawable-xhdpi-v4/ic_action_remove_schedule.png: 368 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/drawable-xhdpi-v4/ic_livestream_pause.png: 1694 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/drawable-xhdpi-v4/ic_livestream_play.png: 2141 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/drawable-xhdpi-v4/ic_media_route_on_holo_light.png: 1594 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/drawable-xxhdpi-v4/actionbar_icon.png: 2002 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/drawable-xxhdpi-v4/ic_action_overflow.png: 330 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/drawable-xxhdpi-v4/ic_action_play_dark.png: 331 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/drawable/photo_banner_scrim.xml: 620 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/drawable/session_detail_photo_gradient.xml: 620 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/drawable/transparent_background_pattern.xml: 436 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/layout/activity_letterboxed_when_large.xml: 360 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/menu/sessions_context.xml: 1088 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/raw/keep.xml: 262 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/transition-v21/shared_element.xml: 1008 bytes</code></div><div><code style="color:rgb(0, 96, 0);">Skipped unused resource res/transition-v21/window_enter_exit.xml: 108 bytes</code></div></div><div></div></div><div><div></div></div><h2 style="font-size:21.3333px;font-weight:400;margin-block-start:;margin-block-end:;color:rgb(68, 68, 68);"><a href="http://tools.android.com/tech-docs/new-build-system/null" name="TOC-Keeping-Resources" style="color:rgb(0, 51, 204);text-decoration-color:rgb(0, 51, 204);"></a>Keeping Resources</h2><h2 style="font-size:21.3333px;font-weight:400;margin-block-start:;margin-block-end:;color:rgb(68, 68, 68);"><a href="http://tools.android.com/tech-docs/new-build-system/null" name="TOC-You-can-tell-the-build-system-about-resources-you-want-to-keep-with-the-special-tools:keep-attribute-similar-to-how-ProGuard-configuration-files-can-list-classes-and-methods-to-keep.-It-doesn-t-matter-which-XML-resource-file-you-place-this-in-but-a-good-pr" style="color:rgb(0, 51, 204);text-decoration-color:rgb(0, 51, 204);"></a><div style="font-size:13.3333px;line-height:21.3333px;">You can tell the build system about resources you want to keep with the special <code style="color:rgb(0, 96, 0);">tools:keep</code> attribute, similar to how ProGuard configuration files can list classes and methods to keep. It doesn't matter which XML resource file you place this in, but a good practice is to keep it in a file such as <code style="color:rgb(0, 96, 0);">res/raw/keep.xml</code> (and don't worry; unless you reference this resource as R.raw.keep from your .java source files, this resource will be removed along with the other unused resources from the packaged app!).</div><div style="font-size:13.3333px;line-height:21.3333px;"><div></div></div><div style="font-size:13.3333px;line-height:21.3333px;">The value of the keep attribute can be a comma separated list of resource references to keep, and they can also use the asterisk character as wildcards. Example:</div><div style="font-size:13.3333px;line-height:21.3333px;"><div style="font-size:13.3333px;line-height:21.3333px;"></div><div style="background-color:rgb(239, 239, 239);border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(211, 211, 211);border-bottom-color:rgb(211, 211, 211);padding-top:6.66667px;padding-bottom:6.66667px;line-height:13.3333px;"><div style="font-size:13.3333px;line-height:21.3333px;"><code style="color:rgb(0, 96, 0);">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</code></div><div style="font-size:13.3333px;line-height:21.3333px;"><code style="color:rgb(0, 96, 0);">&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;</code></div><div style="font-size:13.3333px;line-height:21.3333px;"><code style="color:rgb(0, 96, 0);">    <b>tools:keep=&quot;@layout/l_used*_c,@layout/l_used_a,@layout/l_used_b*&quot;</b>/&gt;</code></div><div style="font-size:13.3333px;line-height:21.3333px;"></div></div><div></div><div style="font-size:13.3333px;line-height:21.3333px;">You can also specify tools:discard to deliberately remove resources that were kept:</div><div style="font-size:13.3333px;line-height:21.3333px;"><div style="font-size:13.3333px;line-height:21.3333px;"></div></div><div style="background-color:rgb(239, 239, 239);border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(211, 211, 211);border-bottom-color:rgb(211, 211, 211);padding-top:6.66667px;padding-bottom:6.66667px;line-height:13.3333px;"><div style="font-size:13.3333px;line-height:21.3333px;"><div style="font-size:13.3333px;line-height:21.3333px;"><code style="color:rgb(0, 96, 0);">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</code></div><div style="font-size:13.3333px;line-height:21.3333px;"><code style="color:rgb(0, 96, 0);">&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;</code></div><div style="font-size:13.3333px;line-height:21.3333px;"><code style="color:rgb(0, 96, 0);">    tools:shrinkMode=&quot;safe&quot;</code></div><div style="font-size:13.3333px;line-height:21.3333px;"><code style="color:rgb(0, 96, 0);">    <b>tools:discard=&quot;@layout/unused2&quot;</b> /&gt;</code></div></div><div style="font-size:13.3333px;line-height:21.3333px;"></div></div><div></div></div></h2><h2 style="font-size:21.3333px;font-weight:400;margin-block-start:;margin-block-end:;color:rgb(68, 68, 68);"><a href="http://tools.android.com/tech-docs/new-build-system/null" name="TOC-Strict-Versus-Safe" style="color:rgb(0, 51, 204);text-decoration-color:rgb(0, 51, 204);"></a>Strict Versus Safe</h2><div>Normally, the build system can accurately determine whether a resource is used or not. However, <span style="line-height:21.3333px;font-size:13.3333px;">if your application makes a call to <code style="color:rgb(0, 96, 0);"><a href="http://developer.android.com/reference/android/content/res/Resources.html#getIdentifier(java.lang.String,%20java.lang.String,%20java.lang.String)" style="color:rgb(0, 51, 204);text-decoration-color:rgb(0, 51, 204);">Resources#getIdentifier</a></code> (or if any of your libraries do that -- and note that the <a href="https://developer.android.com/tools/support-library/features.html#v7-appcompat" style="color:rgb(0, 51, 204);text-decoration-color:rgb(0, 51, 204);">appcompat</a> library does), then that means that the app can be looking up resources names on the fly, based on Strings that it computes dynamically. When the build system sees that call, it tries to be more defensive. That's because your code could contain something like this:</span></div><div><span><div></div></span></div><div style="background-color:rgb(239, 239, 239);border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(211, 211, 211);border-bottom-color:rgb(211, 211, 211);padding-top:6.66667px;padding-bottom:6.66667px;line-height:13.3333px;"><div><span><div><code style="color:rgb(0, 96, 0);">       String name = String.format(&quot;<b>img_%1d</b>&quot;, angle + 1);</code></div><div><code style="color:rgb(0, 96, 0);">       res = getResources().getIdentifier(name, &quot;drawable&quot;, getPackageName());</code></div></span></div><div></div></div>so based on the above code fragment the build system will deliberately mark all resources with the prefix <code style="color:rgb(0, 96, 0);">img_</code> as potentially used (and therefore not eligible for shrinking).<div><div></div></div><div>It's possible that your code will contain many strings that are overly broad. You can optionally turn off this &quot;better safe than sorry&quot; handling, and ask for the resource shrinker to only consider resources referenced if it's certain. In that case it will be up to you to manually keep resources that you are referencing at runtime. This is similar to how code shrinking already works; you have to provide a proguard configuration file where any classes referenced by reflection are explicitly kept.</div><div><div></div></div><div>To turn off the safety checks, set the shrinkMode to &quot;strict&quot; as in the following keep.xml file:</div><div></div><div style="background-color:rgb(239, 239, 239);border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(211, 211, 211);border-bottom-color:rgb(211, 211, 211);padding-top:6.66667px;padding-bottom:6.66667px;line-height:13.3333px;"><div><span style="line-height:21.3333px;font-size:13.3333px;"><code style="color:rgb(0, 96, 0);">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</code></span></div><div><div><code style="color:rgb(0, 96, 0);">&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;</code></div><div><code style="color:rgb(0, 96, 0);">    <b>tools:shrinkMode=&quot;strict&quot;</b> /&gt;</code></div></div><div></div></div><div></div><h2 style="font-size:21.3333px;font-weight:400;margin-block-start:;margin-block-end:;color:rgb(68, 68, 68);"><a href="http://tools.android.com/tech-docs/new-build-system/null" name="TOC-Diagnostics" style="color:rgb(0, 51, 204);text-decoration-color:rgb(0, 51, 204);"></a>Diagnostics</h2><div>To track down problems with resource shrinking (such as &quot;why did resource X get removed?&quot; or &quot;why didn't resource Y get removed?&quot;), you can use the <code style="color:rgb(0, 96, 0);">--debug</code> flag to the gradle command. This will cause a <b>lot</b> of diagnostic output to be printed, so you'll probably want to send the output to a file:</div><div><div style="background-color:rgb(239, 239, 239);border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(211, 211, 211);border-bottom-color:rgb(211, 211, 211);padding-top:6.66667px;padding-bottom:6.66667px;line-height:13.3333px;"><code style="color:rgb(0, 96, 0);">$ ./gradlew assembleDebug --info &gt; /tmp/build-output.txt</code></div></div><div><div></div></div><div><div>For example, let's say I want to know why @drawable/ic_plus_anim_016 is still in my APK:</div><div><code style="color:rgb(0, 96, 0);">$ cat /tmp/build-output.txt | grep drawable/ic_plus_anim_016 | grep reachable</code></div><div><code style="color:rgb(0, 96, 0);">16:25:48.052 [QUIET] [system.out] @drawable/ic_plus_anim_016 : reachable=true</code></div><div><div></div></div><div>In the build output resource reference graph, I find that it's referenced from a different resource:</div><div><div></div></div><div></div><div style="background-color:rgb(239, 239, 239);border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(211, 211, 211);border-bottom-color:rgb(211, 211, 211);padding-top:6.66667px;padding-bottom:6.66667px;line-height:13.3333px;"><div><code style="color:rgb(0, 96, 0);">16:25:48.005 [QUIET] [system.out] @drawable/add_schedule_fab_icon_anim : reachable=true</code></div><div><code style="color:rgb(0, 96, 0);">16:25:48.009 [QUIET] [system.out]     @drawable/ic_plus_anim_016</code></div><div></div></div><div></div><div>Therefore, I now need to know why <code style="color:rgb(0, 96, 0);">@drawable/add_schedule_fab_icon_anim</code> is reachable -- and if I search upwards I find that that resource is listed under &quot;<code style="color:rgb(0, 96, 0);">The root reachable resources are:</code>&quot;. This means that there was a code reference to <code style="color:rgb(0, 96, 0);">add_schedule_fab_icon_anim</code> (e.g. its <code style="color:rgb(0, 96, 0);">R.drawable</code> id was found in the reachable code.).</div></div><div><div></div></div><div>If we are not using strict checking, resource id's can be marked as reachable if there are string constants which look like they may be used to construct resource names for resources loaded dynamically. In that case, if you search the build output for the resource name you may find a message like this:</div><div><div style="background-color:rgb(239, 239, 239);border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(211, 211, 211);border-bottom-color:rgb(211, 211, 211);padding-top:6.66667px;padding-bottom:6.66667px;line-height:13.3333px;"><code style="color:rgb(0, 96, 0);">10:32:50.590 [QUIET] [system.out] Marking drawable:ic_plus_anim_016:2130837506 used because it format-string matches string pool constant ic_plus_anim_%1$d.</code></div></div><div><div></div></div><div>If you see one of these strings, and you are certain that the String is not being used to load the given resource dynamically, you can use the <code style="color:rgb(0, 96, 0);">tools:discard</code> attribute (described under &quot;Keeping Resources&quot; above) to inform the build system to remove it.</div><div><div></div></div><div>(There are some additional details on how to diagnose resource shrinking in this bug report: <a href="https://code.google.com/p/android/issues/detail?id=80872" style="color:rgb(0, 51, 204);text-decoration-color:rgb(0, 51, 204);">https://code.google.com/p/android/issues/detail?id=80872</a>.)</div><h2 style="font-size:21.3333px;font-weight:400;margin-block-start:;margin-block-end:;color:rgb(68, 68, 68);"><a href="http://tools.android.com/tech-docs/new-build-system/null" name="TOC-Resource-URLs" style="color:rgb(0, 51, 204);text-decoration-color:rgb(0, 51, 204);"></a>Resource URLs</h2><div>In addition to looking for calls to Resources#getIdentifier, the build system will also look through all the String constants in your code, as well as various <code style="color:rgb(0, 96, 0);">res/raw</code> resources, looking for resource URLs of the form <code style="color:rgb(0, 96, 0);">file:///android_res/drawable//ic_plus_anim_016.png</code>.  If it finds these, or strings that look like they may be used to construct resources like these, it will mark these resources as used and will not shrink them. For raw resources in particular, it attempts to analyze .html, .css and .js files lexically such that it for example will ignore Strings that aren't used in URLs or in JavaScript literals that could be used to build up a resource URL.</div><div><div></div></div><h2 style="font-size:21.3333px;font-weight:400;margin-block-start:;margin-block-end:;color:rgb(68, 68, 68);"><a href="http://tools.android.com/tech-docs/new-build-system/null" name="TOC-Res-Configs" style="color:rgb(0, 51, 204);text-decoration-color:rgb(0, 51, 204);"></a>Res Configs</h2><div>In addition to removing unused resources, you can also use the Android Gradle plugin's &quot;resConfigs&quot; feature to have it remove any resource configurations that you app does not need.</div><div><div></div></div><div>For example, let's say the messages in your application have not been translated and are all in English. If you are using a library such as Google Play Services, you are picking up translations for all of the messages in those libraries. When functionality in the library is accessed, those will be shown to the user. Whether you prefer that, or want to have the whole app use a single language, is up to you. But if you choose to have a single language, or more generally, just the languages your app is targeting, you can set that up in your build.gradle file, and then at build time all other languages are dropped (which will make your APK smaller, similar to the resource shrinking facility).</div><div><div></div></div><div>Here's what you add to your build.gradle file if you for example want to limit your languages to just English and French:</div><div><div></div></div><div></div><div style="background-color:rgb(239, 239, 239);border-top-width:1px;border-bottom-width:1px;border-top-style:solid;border-bottom-style:solid;border-top-color:rgb(211, 211, 211);border-bottom-color:rgb(211, 211, 211);padding-top:6.66667px;padding-bottom:6.66667px;line-height:13.3333px;"><div><code style="color:rgb(0, 96, 0);">android {</code></div><div><div><code style="color:rgb(0, 96, 0);">    defaultConfig {</code></div><div><code style="color:rgb(0, 96, 0);">        ...</code></div><div><span style="line-height:21.3333px;font-size:13.3333px;"><code style="color:rgb(0, 96, 0);"><b>        resConfigs &quot;en&quot;, &quot;fr&quot;</b></code></span></div><div><span style="color:rgb(0, 96, 0);font-size:13.3333px;line-height:21.3333px;">        }</span></div></div><div><code style="color:rgb(0, 96, 0);">}</code></div><div></div></div><div><div></div></div><div><span style="line-height:21.3333px;font-size:13.3333px;">When using build tools older than 21 you could also add </span><code style="color:rgb(0, 96, 0);line-height:21.3333px;font-size:13.3333px;">resConfigs &quot;nodpi&quot;, &quot;hdpi&quot;</code><span style="line-height:21.3333px;font-size:13.3333px;"> to also limit the density folders that are packaged. Instead, use <a href="http://tools.android.com/tech-docs/new-build-system/user-guide/apk-splits" style="color:rgb(0, 51, 204);text-decoration-color:rgb(0, 51, 204);">apk splits</a> to provide different apks to devices with different densities.</span></div><h2 style="font-size:21.3333px;font-weight:400;margin-block-start:;margin-block-end:;color:rgb(68, 68, 68);"><a href="http://tools.android.com/tech-docs/new-build-system/null" name="TOC-Bugs" style="color:rgb(0, 51, 204);text-decoration-color:rgb(0, 51, 204);"></a>Bugs</h2><div>If you find bugs, use Android Studio's Help &gt; Submit Feedback feature to file a bug. Please include as much detail to reproduce as possible.</div></div></div></span>
</div></body></html> 